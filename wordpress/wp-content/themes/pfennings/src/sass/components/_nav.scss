/* =============================================================================
  MM - MATERIAL MENU
============================================================================= */

/**
 * MM - Material Menu
 *
 * All the styles for the material menu here! I've prefixed them all with "mm",
 * which means material menu.
 */

/**
 * Toggle Button
 *
 * a.k.a. hamburger icon. See the "resets" section for global button resets.
 */

$menu-toggle-width: 90px;
$menu-toggle-height: 26px;
$menu-toggle-layer-thickness: 4px;
$menu-gradient-stop-1: $menu-toggle-height/2 - $menu-toggle-layer-thickness/2;
$menu-gradient-stop-2: $menu-gradient-stop-1 + $menu-toggle-layer-thickness;
$toggle-button-color: $white; //$purple; // also for icons
$menu-background: rgba(224,112,30, 1);

body.mm-menu-open {
	overflow: hidden;
	.down-arrow {
		z-index:-1;
	}
}
.hide {
	display: none;

	@include media($bp-mid) {
		display: block;
	}
}
.mm-menu-toggle {
	position: fixed;
	top: 20px; 
	padding-right: 27px;
	@include media($bp-large) {
		top: 27px; 
		padding-right: 35px;
		width: $menu-toggle-width;
	}
	.admin-bar & {
		top: 65px; 		 
		@include media($bp-large) {
			top: 50px; 
		}
	}
	right: 2em;
	padding-top: 4px;
	z-index: 21001;
	cursor:pointer;
	height: $menu-toggle-height;
	color:$white;
	font-size: 1em;
	line-height: 1.5em;
	font-weight: 600;
	&:after {
		background: url(dist/images/menu-buttons.png) 0 0 no-repeat;
		content:"";
		display:block;
		height:26px;
		position:absolute;
		right:0;
		top: 4px;
		@include transition(0.5s all);
		width: 27px;
	}
	/* active states */
	&.active { 
		&:after {
			@include transform(rotate(360deg));
			background-position: -30px 0;
		}	
	}
}

/**
 * The actual menu
 *
 * Here be all the stuff for the menu itself.
 */

.mm-menu {
	position: fixed;
	top: 0; 
	right: 0;
	z-index: 1999;
	background-color: $menu-background;
	width: 100%;
	height: 100%;
	overflow-y: auto;
	box-shadow: 0;
	@include transform(translateX(-100%));
	@include transition(transform 0.5s, box-shadow 0.5s);
	ul {
        list-style: none;
        margin: 75px 0 0;
		@include media($bp-large) {
			margin: 115px 0 0;
		}
        padding: 0;
		li {
			margin-left:0;
			padding-left:40px;
			a {
				display: block;
				position: relative;
				overflow: hidden;
				margin: 4px 0;
				padding: 0px;
				color: $white;
				font-size: 1.3em;
				font-weight: 100;
				line-height: em(30px);
				@include media($bp-large) {
					font-size: 1.7em;
					line-height: em(55px);
				}
				text-decoration: none;
				transition: background 0.5s, color 0.5s;
			}
		}
	}
	&.active {
		box-shadow: 0 2px 8px rgba(0,0,0,0.2);
		@include transform(translateX(0));
	}
}

@media all and ( min-width: 300px ) {
  .mm-menu {
    width: 440px;
   @include transform(translateX(440px));
  }
}

@media all and ( max-width: 440px ) {
  .mm-menu {
    width: 100%;
   // @include transform(translateX(440px));
  }
}
/* header */

.mm-menu__header {
  position: relative;
  width: 100%;
  height: 188px;
  background-color: $color--accent;
}

.mm-menu__title {
  position: absolute;
  bottom: 12px; left: 12px;
  margin: 0;
  padding: 0;
  color: #fff;
  font-size: $font-size--medium;
}

/* list */

.mm-menu__items {
  list-style: none;
  margin: 0;
  padding: 0;
}

.mm-menu__item {
  display: block;
  width: 100%;
  opacity: 0;
  @include transform(translateX(-50%));
}

.mm-menu__item.in-view {
  opacity: 1;
  @include transform(translateX(0));
}

$delay: 0.1;
@for $i from 1 through 20 {
  .mm-menu__item.item-#{$i} {
    @include transition(opacity 0.5s #{$delay}s, transform 0.5s #{$delay}s);
  }
  $delay: $delay + 0.1;
}

.mm-menu__link {
  display: block;
  position: relative;
  overflow: hidden;
  margin: 4px 0;
  padding: 12px;
  color: $color--text-secondary;
  font-size: $font-size--small;
  text-decoration: none;
  @include transition(background 0.5s, color 0.5s);
}

.mm-menu__link-text {
  position: relative;
  z-index: 2;
}

/* the touch effect, for when a link is touched */

.mm-menu__link--touch-effect {
  display: block;
  position: absolute;
  z-index: 1;
  width: 0; height: 0;
  border-radius: 100%;
  //background-color: $color--divider;
  @include transform(scale(0));
  @include transform-origin(50% 50%);
}

.mm-menu__link--touch-effect.animating {
   @include transform(scale(1));
  @include transition(transform 0.5s);
}

/**
 * Menu mask
 *
 * A mask that comes in and covers the wrapper when the menu is active.
 */

.mm-menu-mask {
	position: fixed;
	top: 0; left: 0;
	z-index: 1;
	width: 100%;
	display:block;
	height: 100%;
	background-color: rgba(0,0,0,0.8);
	visibility: hidden;
	opacity: 0;
	@include transition(opacity 0.5s, visibility 0.5s);
	&.active {
	  //@include media($bp-large) {
			visibility: visible;
			opacity: 1;
	  //}
	}
}